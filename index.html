<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MacroDroid Automation</title>
<style>
  body {
    background: linear-gradient(135deg, #a96ed8, #7e3cd4);
    font-family: Arial, sans-serif;
    padding: 20px;
    color: #fff;
  }
  .box {
    background: #333;
    padding: 10px;
    border-radius: 8px;
    margin: 10px 0;
  }
  h2 {
    text-align: center;
    color: #0ff;
  }
  .actions {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }
  .actions button {
    background: #f35;
    border: none;
    padding: 8px;
    border-radius: 5px;
    color: white;
    cursor: pointer;
    flex: 1 1 45%;
  }
  .log {
    background: #222;
    padding: 10px;
    border-radius: 8px;
    min-height: 100px;
    overflow-y: auto;
  }
</style>
</head>
<body>

<h2>MacroDroid Automation</h2>

<div class="box">
  <label>Enter Webhook URL:</label><br/>
  <input id="webhookInput" placeholder="https://trigger.macrodroid.com/your-id" style="width:100%;" /><br/>
  <button onclick="setUrl()">Proceed</button>
</div>

<div class="box">
  <h3>Popup (Toast)</h3>
  <input id="toastInput" placeholder="Input:" style="width:100%;" />
  <button onclick="sendCommand('popup', { message: document.getElementById('toastInput').value })">Test</button>
</div>

<div class="actions">
  <!-- Buttons as per your screenshot's labels -->
  <button onclick="sendCommand('recent')">Recent</button>
  <button onclick="sendCommand('home')">Home</button>
  <button onclick="sendCommand('back')">Back</button>
  <button onclick="sendCommand('dndOn')">DND ON</button>
  <button onclick="sendCommand('dndOff')">DND OFF</button>
  <button onclick="sendCommand('lockScreen')">Lock Screen</button>
  <button onclick="sendCommand('wifiOn')">WiFi On</button>
  <button onclick="sendCommand('wifiOff')">WiFi Off</button>
  <button onclick="sendCommand('torchToggle')">Torch Toggle</button>
  <button onclick="sendCommand('bluetoothOn')">Bluetooth On</button>
  <button onclick="sendCommand('bluetoothOff')">Bluetooth Off</button>
  <button onclick="sendCommand('takeSelfie')">Take Selfie</button>
  <button onclick="sendCommand('hotspotOn')">Hotspot On</button>
  <button onclick="sendCommand('hotspotOff')">Hotspot Off</button>
  <button onclick="sendCommand('expandNotificationBar')">Expand Notification Bar</button>
  <button onclick="sendCommand('collapseNotificationBar')">Collapse Notification Bar</button>
  <button onclick="sendCommand('ringAlarmAtFullVolume')">Ring Alarm At Full Volume</button>
  <button onclick="sendCommand('stopAlarm')">Stop Alarm</button>
  <button onclick="sendCommand('disableMd')">Disable MD</button>
  <!-- Add remaining commands as per your UI -->
</div>

<h3>Logs:</h3>
<div class="log" id="logBox"></div>

<script>
let webhookUrl = '';
function setUrl() {
  webhookUrl = document.getElementById('webhookInput').value.trim();
  log('Webhook URL set.');
}
function log(msg) {
  document.getElementById('logBox').innerHTML += msg + '<br>';
}
function sendCommand(command, params = {}) {
  if (!webhookUrl) {
    log('Error: Please set Webhook URL.');
    return;
  }
  fetch(`${webhookUrl}?command=${command}&${new URLSearchParams(params)}`)
    .then(res => log(`${command}: Success`))
    .catch(err => log(`${command}: Failed (${err})`));
}
</script>
</body>
</html>
